<!DOCTYPE html>
<html ng-app="questions">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Homework</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="questions.css">
</head>
<body ng-controller="question">
  <div class="container-fluid">
    <h1>Question 1</h1>
    <span compile="question.htmlText"></span>
    <div class="question">
      <h3>A function of cell membranes in humans is the</h3>
      <br>
      <div class="row">
        <div class="btn-group-vertical btn-group-lg" role="group">
          <a href="file:///Users/Jorge/Desktop/hw/question2.html" class="btn btn-default">synthesis of the amino acids</a>
          <a href="file:///Users/Jorge/Desktop/hw/question2.html" class="btn btn-default">production of energy</a>
          <a href="file:///Users/Jorge/Desktop/hw/question2.html" class="btn btn-default">replication of genetic material</a>
          <a href="file:///Users/Jorge/Desktop/hw/question2.html" class="btn btn-default">recognition of certain chemicals</a>
        </div>
      </div>
      <br>
      <ul class="list-inline">
        <li><button type="button" role="button" class="btn btn-danger btn-word" data-toggle="popover" data-placement="bottom"
        title="synthesis" data-content="making or creating">synthesis</button></li>
        <li><button type="button" class="btn btn-danger btn-word" data-toggle="popover" data-placement="bottom"
        title="amino acids" data-content="the monomers (building blocks) of <b>proteins</b>" data-html="true">amino acids</button></li>
        <li><button type="button" class="btn btn-warning btn-word">energy</button></li>
        <li><button type="button" class="btn btn-warning btn-word">replication</button></li>
        <li><button type="button" class="btn btn-warning btn-word">genetic material</button></li>
        <li><button type="button" class="btn btn-warning btn-word">recognition</button></li>
        <li><button type="button" class="btn btn-warning btn-word">certain chemicals</button></li>
      </ul>
    </div>
<br>
    <div class="row">
      <div class="col-xs-12">
        <p>
          Concept Tested: Standard 4, Key Idea 1.2i</br>
          Question: August 2014 #1
        </p>


        <br>

        <p>Behind the scenes, the software keeps track that the student missed Standard 4, Key Idea 1.2i if they answer the question incorrectly. Think of a giant spreadsheet showing every single Key Idea and keeping track of how well a student has answered a specific concept that's been tested. You could visually see over the course of the year if a student has mastered a concept or is struggling. This data could also be scaled up to the class... to see which concepts are giving the students problems. You could then go over this in class, or personalize "review module videos" for the students to learn on their own.</p>

        <p>As soon as the student clicks on an answer choice, he/she is presented with the next question.</p>

        <p>Upon completion of all the questions, they get the "reVIEW VIEW" and see the green/red backgrounds for questions answered correctly/incorrectly.</p>

        <p>KEEP TRACK OF MISUNDERSTOOD WORDS (when clicked): Vocab quizzes should be presented throughout (every 5 questions? every 10? upon completion? backwards... as in definition given, pick the word?)</p>
      </div>
    </div>

<!--     <div class="question questionRight">
      <h3>A function of cell membranes in humans is the</h3>
      <h4>a fucking cunt</h4>
    </div>

    <div class="question questionWrong">
      <h3>A function of cell membranes in humans is the</h3>
      <h4>a fucking cunt</h4>
      <h4>challah bread</h4>
    </div> -->
  </div> <!-- container -->

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.3/angular.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.3/angular-sanitize.min.js"></script>
  <script>
    $("[data-toggle='popover'").popover("hide","trigger: click","toggle");

    angular.module('questions', ['ngSanitize'])
    .controller('question', function($scope) {

      $scope.showDefinition = function(word) {
        alert(word);
      };

      $scope.question = {
        text: 'Forests, mountains, rivers, and %%%marshes%%% are examples of the wide variety of %%%ecosystem%%% in New York State. The diversity of these ecosystems is most likely the result of',
        answers: [
          'synthesis of the amino acids',
          'production of energy'
        ],
        correctAnswerIndex: 1,
        keyWords: [
          'abiotic',
          'producers'
        ]
      };

      var rawText = $scope.question.text;
      $scope.question.htmlText = rawText;

      var keyWords = rawText.match(/%%%\w+%%%/g);

      for (var i = 0; i < keyWords.length; i++) {
        var wordOnly = keyWords[i].substring(3);
        wordOnly = wordOnly.substring(0, wordOnly.length - 3);
        $scope.question.htmlText = $scope.question.htmlText.replace(keyWords[i], '<button type="button" class="btn btn-default" data-toggle="popover" data-placement="bottom" role="button" title="' + wordOnly + '" data-content="' + wordOnly + ' means something">' + wordOnly + '</button>');
      }

      console.log($scope.question.htmlText);

    }).directive('compile', ['$compile', function ($compile) {
      return function(scope, element, attrs) {
        scope.$watch(
          function(scope) {
            return scope.$eval(attrs.compile);
          },
          function(value) {
            element.html(value);
            $compile(element.contents())(scope);
            $("[data-toggle='popover'").popover("hide","trigger: click","toggle");
          }
        )};
      }
    ]);

    

  </script>
</body>
</html>

